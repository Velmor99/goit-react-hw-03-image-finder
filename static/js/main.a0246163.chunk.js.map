{"version":3,"sources":["components/SearchBar.js","components/Modal.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Loader.js","App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autocomplete","autofocus","placeholder","onChange","Component","Modal","closeModal","code","onClose","window","addEventListener","removeEventListener","largeSize","alt","src","ImageGalleryItem","showModal","id","source","large","key","onClick","data-action","ImageGallery","images","map","image","webformatURL","tags","largeImageURL","Button","loadMore","Spinner","color","height","width","React","App","sQuery","loading","page","articles","handleSearchFormSubmit","query","fetchArticles","axios","get","then","response","prevState","data","hits","prevProps","prevQuery","nextQuery","length","console","log","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a0246163.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport styles from './styles.css';\r\n\r\nexport default class Searchbar extends Component {\r\n\tstate = {\r\n\t\tinputValue: ''\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({ inputValue: e.target.value });\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.inputValue)\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<header className=\"Searchbar\">\r\n\t\t\t\t<form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className=\"SearchForm-button\">\r\n\t\t\t\t\t\t<span className=\"SearchForm-button-label\">Search</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"SearchForm-input\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\tautofocus\r\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\r\n\t\t\t\t\t\tvalue={this.state.inputValue}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n\t\twindow.addEventListener('keyup', this.closeModal)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('keyup', this.closeModal)\r\n\t}\r\n\r\n\tcloseModal = (e) => {\r\n\t\tif(e.code === 'Escape') {\r\n\t\t\tthis.props.onClose()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {largeSize, alt} = this.props\r\n\t\treturn (\r\n\t\t\t<div className=\"Overlay\">\r\n\t\t\t\t<div className=\"Modal\">\r\n\t\t\t\t\t<img src={largeSize} alt={alt} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}\r\n","import React, { Component } from 'react';\r\nimport Modal from './Modal'\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n    state = {\r\n\t\tshowModal: false\r\n\t}\r\n\r\n\r\n\tshowModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowModal: !this.state.showModal\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {id, source, alt, large} = this.props\r\n\t\treturn (\r\n\t\t\t<li key={id} onClick={this.showModal} className=\"ImageGalleryItem\">\r\n\t\t\t\t{this.state.showModal ? <Modal onClose={this.showModal} largeSize={large} alt={alt}></Modal> : \r\n\t\t\t\t<img src={source} alt={alt} data-action={large} className=\"ImageGalleryItem-image\" />}\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\nimport styles from './styles.css'\r\n\r\nexport default function ImageGallery({images}) {\r\n\treturn <ul className=\"ImageGallery\">\r\n        {images.map(image => (\r\n                <ImageGalleryItem\r\n                key={image.id}\r\n                source={image.webformatURL}\r\n                alt={image.tags}\r\n                large={image.largeImageURL}\r\n                />\r\n        ))}\r\n        </ul>;\r\n}\r\n","import React, { Component } from 'react';\r\nimport styles from './styles.css';\r\n// При нажатии на кнопку Load more должна\r\n// догружаться следующая порция изображений и\r\n// рендериться вместе с предыдущими.\r\n// После загрузки и рендера новой партии\r\n// изображений страница должна плавно скролиться.\r\n// Для скрола используй следующий код.\r\n\r\n// window.scrollTo({\r\n//   top: document.documentElement.scrollHeight,\r\n//   behavior: 'smooth',\r\n// });\r\n\r\nexport default class Button extends Component {\r\n\trender() {\r\n\t\tconst { loadMore } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"button-container\">\r\n\t\t\t\t<button className=\"Button\" onClick={loadMore}>\r\n\t\t\t\t\tLoad more\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import Loader from 'react-loader-spinner';\r\nimport React from 'react';\r\nimport styles from './styles.css';\r\nexport default class Spinner extends React.Component {\r\n\t//other logic\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"loader\">\r\n\t\t\t\t<Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\nimport Searchbar from './components/SearchBar';\nimport axios from 'axios'\nimport ImageGallery from './components/ImageGallery'\nimport Button from './components/Button'\nimport Spinner from './components/Loader'\n\nexport default class App extends Component {\n  state = {\n    sQuery: '',\n    loading: false,\n    page: 1,\n    articles: [],\n  };\n\n\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.sQuery;\n    const nextQuery = this.state.sQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page\n    if(prevQuery !== nextQuery) {\n      this.fetchArticles()\n    };\n    if(this.state.articles.length > 12) {\n      console.log('я появился')\n      window.scrollTo({\n           top: document.documentElement.scrollHeight,\n           behavior: 'smooth',\n       });\n    }\n  }\n\n  handleSearchFormSubmit = query => {\n    this.setState({ sQuery: query, articles: [], page: 1})\n  };\n\n  fetchArticles = () => {\n    this.setState({\n      loading: true, \n    });\n    const {sQuery, page} = this.state\n    axios\n    .get(`https://pixabay.com/api/?q=${sQuery}&page=${page}&key=16979743-523237a41d7b002c0229d3266&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(response => this.setState(prevState => ({ articles: [...prevState.articles, ...response.data.hits], page: prevState.page + 1, loading: false})))\n  };\n\n\n  render() {\n    return(\n      <>\n      <Searchbar\n      onSubmit={this.handleSearchFormSubmit}\n      ></Searchbar>\n      <ImageGallery \n      images={this.state.articles}\n      />\n      {this.state.loading === true && <Spinner></Spinner>}\n      {this.state.articles.length > 0 && <Button loadMore={this.fetchArticles}></Button>}\n     </>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}